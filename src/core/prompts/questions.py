"""
Захардкоженные вопросы для MVP.
В Фазе 2 будут заменены на адаптивную генерацию через AI.
"""

import random

# Вопросы для разогрева (1-й вопрос)
DESIGNER_ICEBREAKERS = [
    "Расскажи про последний проект, которым ты гордишься. Что делало его сложным и как ты справился?",
    "Опиши задачу, которая показалась тебе невыполнимой в начале. Как ты к ней подступился?",
    "Над чем интересным ты работал в последние полгода? В чем была основная ценность для бизнеса?",
]

PRODUCT_ICEBREAKERS = [
    "Расскажи про продукт или фичу, которой ты гордишься. Что делало задачу сложной и как ты её решил?",
    "Опиши самый сложный запуск в твоей практике. Что пошло не так и как ты разрулил?",
    "Вспомни проект, где тебе пришлось принимать решения в условиях полной неопределенности. Как ты действовал?",
]

PROJECT_ICEBREAKERS = [
    "Расскажи о самом сложном проекте, которым ты управлял. Что делало его вызовом и как ты довел его до финала?",
    "Опиши ситуацию, когда проект был на грани провала. Какие твои действия спасли ситуацию?",
    "Над какой задачей ты работал в последнее время? Какую методологию управления ты выбрал и почему?",
]

# Основной пул вопросов (используется как fallback)
DESIGNER_QUESTIONS = [
    # 1. Icebreaker placeholder (will be replaced or used as default)
    DESIGNER_ICEBREAKERS[0],
    
    # 2. Hard Skills
    "Опиши свой процесс работы над новым экраном или фичей — от получения задачи до передачи в разработку.",
    "Как ты организуешь структуру макетов в Figma? Как это помогает команде?",
    
    # 3. Hard Skills + Thinking
    "Как ты принимаешь решение о том, какой UI-паттерн использовать? Приведи конкретный пример.",
    "Как ты балансируешь между 'красиво' и 'удобно'? Был ли случай, когда пришлось жертвовать эстетикой?",
    
    # 4. Soft Skills
    "Вспомни ситуацию, когда заказчик или менеджер не принял твой дизайн. Как ты действовал?",
    "Как ты реагируешь на правки, с которыми категорически не согласен?",
    
    # 5. Soft Skills
    "Как ты работаешь с разработчиками? Были ли конфликты при передаче макетов? Как решал?",
    "Как ты убеждаешь команду в правильности своего решения, если нет времени на тесты?",
    
    # 6. Thinking
    "Как ты понимаешь, что твой дизайн — хороший? Какие критерии используешь?",
    "Что для тебя важнее: соблюдение гайдлайнов или решение проблемы пользователя? Приведи пример.",
    
    # 7. Thinking + Hard Skills
    "Расскажи про случай, когда результаты исследований (аналитика, тесты, интервью) изменили твоё первоначальное решение.",
    "Как ты проводишь коридорные тесты? На что обращаешь внимание в первую очередь?",
    
    # 8. Mindset
    "Какую самую большую ошибку ты совершил в работе? Чему она тебя научила?",
    "Расскажи о проекте, который провалился. В чем была причина и твоя роль?",
    
    # 9. Mindset
    "Что тебя больше всего раздражает в работе дизайнера? Как ты с этим справляешься?",
    "Как ты справляешься с выгоранием или отсутствием вдохновения?",
    
    # 10. Mindset + финальное давление
    "Если бы ты мог изменить одну вещь в себе как специалисте — что бы это было и почему?",
]


# Вопросы для продактов
PRODUCT_QUESTIONS = [
    # 1. Icebreaker placeholder
    PRODUCT_ICEBREAKERS[0],
    
    # 2. Hard Skills
    "Опиши, как ты приоритизируешь бэклог. Какие фреймворки или подходы используешь?",
    "Как ты формируешь дорожную карту (roadmap) на квартал? Кто участвует в процессе?",
    
    # 3. Hard Skills + Thinking
    "Как ты определяешь, что фича успешна? Какие метрики отслеживаешь и почему именно их?",
    "Как ты понимаешь, что пора 'убивать' фичу или продукт?",
    
    # 4. Soft Skills
    "Вспомни ситуацию, когда стейкхолдеры хотели разного. Как ты находил компромисс?",
    "Как ты говоришь 'нет' генеральному директору или важному клиенту?",
    
    # 5. Soft Skills
    "Как ты работаешь с командой разработки? Были ли ситуации, когда разработчики не согласны с твоим решением?",
    "Как ты мотивируешь команду, если сроки горят, а задача скучная?",
    
    # 6. Thinking
    "Как ты принимаешь решение запускать фичу или нет, когда данных недостаточно?",
    "На что ты опираешься больше: на данные или на интуицию? Приведи пример, где интуиция не подвела (или наоборот).",
    
    # 7. Thinking + Hard Skills
    "Расскажи про случай, когда гипотеза не подтвердилась после запуска. Что делал дальше?",
    "Как ты проводишь CustDev? Какой самый неожиданный инсайт ты получал от пользователя?",
    
    # 8. Mindset
    "Какой самый болезненный провал был в твоей карьере? Чему он тебя научил?",
    "За что тебе было стыдно перед пользователями или командой?",
    
    # 9. Mindset
    "Что тебя больше всего фрустрирует в роли продакта? Как ты с этим справляешься?",
    "Как ты относишься к рутине и бюрократии в процессах?",
    
    # 10. Mindset + финальное давление
    "Если бы ты мог изменить одну вещь в себе как продакте — что бы это было и почему?",
]


# Вопросы для проджектов
PROJECT_QUESTIONS = [
    # 1. Icebreaker placeholder
    PROJECT_ICEBREAKERS[0],
    
    # 2. Hard Skills
    "Опиши свой типичный процесс управления проектом: от инициации до закрытия. Какие артефакты создаешь?",
    "Как ты строишь план проекта и оцениваешь сроки? Как учитываешь риски при планировании?",
    
    # 3. Hard Skills + Thinking
    "Как ты контролируешь бюджет и ресурсы проекта? Что делаешь, если видишь отклонение от плана?",
    "Расскажи, как ты управляешь Scope (рамками) проекта. Как реагируешь на 'ползущие границы'?",
    
    # 4. Soft Skills
    "Вспомни ситуацию, когда важный стейкхолдер внезапно изменил требования. Твои действия?",
    "Как ты выстраиваешь коммуникацию в распределенной команде? Как решаешь конфликты между отделами?",
    
    # 5. Soft Skills
    "Как ты готовишь и проводишь статус-встречи? Как добиваешься того, чтобы решения принимались быстро?",
    "Опиши случай, когда тебе пришлось сообщать плохие новости (задержка, баг, превышение бюджета) руководству.",
    
    # 6. Thinking
    "Agile или Waterfall? В какой ситуации ты выберешь одну методологию вместо другой?",
    "Как ты приоритизируешь задачи внутри проекта, когда ресурсов не хватает на всё сразу?",
    
    # 7. Thinking + Hard Skills
    "Какие инструменты управления проектами (Jira, Asana, MS Project) ты предпочитаешь и почему? Опиши сложную настройку процесса.",
    "Как ты измеряешь эффективность проекта и работы команды? Какие KPI используешь?",
    
    # 8. Mindset
    "Какое твое самое большое упущение как менеджера проектов? Что ты сделал, чтобы это не повторилось?",
    "Расскажи о случае, когда команда потеряла мотивацию из-за затянувшегося проекта. Как ты это исправил?",
    
    # 9. Mindset
    "Что для тебя самое сложное в роли проджекта? Как ты справляешься с постоянным давлением дедлайнов?",
    "Как ты относишься к микроменеджменту? Бывали ситуации, когда он был оправдан?",
    
    # 10. Mindset + финальное давление
    "Если бы тебе пришлось управлять проектом с абсолютно некомпетентной, но 'звездной' командой — как бы ты это делал?",
]


def get_questions(role: str) -> list[str]:
    """Получить список вопросов для роли."""
    if role == "designer":
        return DESIGNER_QUESTIONS
    if role == "project":
        return PROJECT_QUESTIONS
    return PRODUCT_QUESTIONS

def get_random_icebreaker(role: str) -> str:
    """Получить случайный вопрос для начала интервью."""
    if role == "designer":
        return random.choice(DESIGNER_ICEBREAKERS)
    if role == "project":
        return random.choice(PROJECT_ICEBREAKERS)
    return random.choice(PRODUCT_ICEBREAKERS)

